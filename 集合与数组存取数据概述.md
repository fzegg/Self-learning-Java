# 集合与数组存取数据概述

### 数组存储的特点

- 一旦初始化，长度就已经确定了
- 一旦定义好，其元素类型也就确定了

### 数组存储的弊端

- 初始化后长度不可修改
- 提供的方法非常有限，对于添加、删除、插入等操作不便，效率不高
- 获取数组中实际元素个数的需求，数组没有现成的属性或方法可用
- 数组存储数据的特点：有序可重复。对于无序不可重复的要求，不能满足。





# 集合（Collection）

### Collection接口：单列集合，用来存储一个个的对象

- list接口：存储有序的、可重复的数据

  如：ArrayList, LinkedList, Vector

- Set接口：存储无序的、不可重复的数据

  如：HashSet, LinkedSet, TreeSet

- Map接口：双列集合，用来存储一对对的数据

  如：HashMap, LinkedMap, TreeMap, HashTable, Properties

### Collection接口中声明的方法

- 向Collection接口的实现类的对象中添加数据obj时，要求obj所在类要重写equals方法
- add(Object e)：将元素e添加到集合中
- size()：获取元素个数
- addAll(Collection coll1)：将coll1中的元素添加到当前集合中
- clear()：清空集合元素
- isEmpty()：判断集合是否为空
- containsAll(Collection coll1)：判断形参coll1中的所有元素是否都存在于当前集合中
- remove(Object obj)：从当前集合中移除obj元素
- removeAll(Collection coll1)：差集——从当前集合移除coll1中所有的元素
- retainAll：交集——获取当前集合和coll1的交集，并返回给当前集合
- equals(Object )：当前集合和形参集合的元素都相同时返回true
- hashCode()：返回当前对象的哈希值
- 集合可以转换为数组：toArray()

```java
Object[] arr = coll.toArray();
```

​		数组也可以转换为集合：调用Arrays类的静态方法asList()

```java
List<String> list = Arrays.asList(new Stirng[]{"AA", "BB", "CC"});
List<int[]> arr1 = Arrays.asList(new int[]{123, 456});//会被认为整个数组是一个元素
List arr2 = Arrays.asList(new Integer[]{123, 456});
```

- iterator()：返回Iterator接口的实例，用于遍历集合元素（提供一种方法访问一个容器对象中各个元素，而有不需要暴露对象的内部细节）

  1.内部的方法：hasNext()和next(), remove()

```java
public void test1(){
Collection coll = new ArrayList();
co11.add(123);
coll.add(456);
coll.add(new Person(name: "Jerry", age: 20));
col1.add(new String(original: "Tom"));
coll.add(false);
    
Iterator iterator = coll.iterator();

while(iterator.hasNext()){//判断是否还有下一个元素
    System.out.println(iterator.next());//指针下移，将下移以后集合位置上的元素返回

while(iterator.hasNext()){
    Object obj = iterator.next();
    if("Tom".equals(obj)){
        iterator.remove();//可以在遍历的时候删除集合中的元素，不同于集合，可以直接调用
        //不可以再未调用next()或上一次调用next方法后已经调用了remove()方法的情况下再次调用remove（），会导致IllegalStateException
    }
}
}
}
```

​		2.集合对象每次调用iterator()方法都得到一个全新的迭代器对象

​		3.默认游标都在集合的第一个元素之前

​		4.foreach循环：用于遍历集合、数组

```java
for(Object ocj : coll){//局部变量 : 集合变量
	System.out.println(obj);//内部仍然调用了迭代器
}

int arr = new int[]{1,2,3,4,5,6};

for(int i : arr){
    System.out.println(i);
}
```

